# The transport for the MCP server - either 'sse' or 'stdio' (defaults to sse if left empty)
TRANSPORT=sse

# Host to bind to if using sse as the transport (leave empty if using stdio)
# Set this to 0.0.0.0 if using Docker, otherwise set to localhost (if using uv)
HOST=0.0.0.0

# Port to listen on if using sse as the transport (leave empty if using stdio)
PORT=8051

# --- Model Configuration ---
# OpenAI API Configuration
OPENAI_API_KEY=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

# Chat Model (for summaries, contextual embeddings, etc.)
CHAT_MODEL=gpt-4.1
CHAT_MODEL_API_BASE=https://copilot.quantmind.com.br

# Embedding Model
EMBEDDING_MODEL="text-embedding-3-small"
EMBEDDING_DIMENSIONS=1536
EMBEDDING_MODEL_API_BASE=https://api.openai.com/v1

# --- RAG Strategy Flags ---
# Set to "true" or "false", all default to "false"
USE_CONTEXTUAL_EMBEDDINGS=true

# USE_HYBRID_SEARCH: Combines vector similarity search with keyword search for better results
USE_HYBRID_SEARCH=true

# USE_AGENTIC_RAG: Enables code example extraction, storage, and specialized code search functionality
USE_AGENTIC_RAG=true

# USE_RERANKING: Applies cross-encoder reranking to improve search result relevance
USE_RERANKING=true

# USE_KNOWLEDGE_GRAPH: Enables AI hallucination detection and repository parsing tools using Neo4j
# If you set this to true, you must also set the Neo4j environment variables below.
USE_KNOWLEDGE_GRAPH=true

# --- Database Configuration ---
# Vector Database (for RAG)
SUPABASE_URL=https://supabase.quantmind.com.br

# Get your SUPABASE_SERVICE_KEY from the API section of your Supabase project settings -
# https://supabase.com/dashboard/project/<your project ID>/settings/api
# On this page it is called the service_role secret.
SUPABASE_SERVICE_KEY=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc1MDQ2Mjk4MCwiZXhwIjo0OTA2MTM2NTgwLCJyb2xlIjoic2VydmljZV9yb2xlIn0.tuy17B0RLNm70O2QBjUA37_nkPFn64XYPORnY2gTb-Q

# Knowledge Graph Database (for agentic features)
# IMPORTANT: If running the MCP server through Docker, change localhost to host.docker.internal
NEO4J_URI=neo4j://neo4j.quantmind.com.br:7687

# Neo4j username (usually 'neo4j' for default installations)
NEO4J_USER=neo4j

# Neo4j password for your database instance
NEO4J_PASSWORD=Clara4014@

# --- Fine-Tuning Parameters ---

# Reranking model name from sentence-transformers
RERANKING_MODEL="cross-encoder/ms-marco-MiniLM-L-6-v2"

# Crawling parameters
MAX_CRAWL_DEPTH=3
MAX_CONCURRENT_CRAWLS=10
CHUNK_SIZE=5000

# Search parameters
DEFAULT_MATCH_COUNT=5

# Concurrency settings for background tasks
MAX_WORKERS_SUMMARY=10
MAX_WORKERS_CONTEXT=10
MAX_WORKERS_SOURCE_SUMMARY=5

# Content processing settings
MIN_CODE_BLOCK_LENGTH=1000
SUPABASE_BATCH_SIZE=20